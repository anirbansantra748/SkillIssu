<% layout("/layouts/boilerplate") %>

<div class="container mt-5 text-light" style="background: #121212; min-height: 100vh; padding: 20px;">
    <h2 class="text-center mb-4 fw-bold" style="color: #f8f9fa;">✏️ Edit Course</h2>

    <form action="/courses/<%= course._id %>?_method=PUT" method="POST" class="p-4 rounded"
        style="background: #1c1c1e; box-shadow: 0px 0px 10px rgba(255, 255, 255, 0.1);">

        <div class="mb-3">
            <label for="title" class="form-label fw-semibold" style="color: #f8f9fa;">📌 Course Title</label>
            <input type="text" class="form-control bg-dark text-light border-0" id="title" name="title"
                value="<%= course.title %>" required>
        </div>

        <div class="mb-3">
            <label for="description" class="form-label fw-semibold" style="color: #f8f9fa;">📝 Description</label>
            <textarea class="form-control bg-dark text-light border-0" id="description" name="description" rows="3" required>
                <%= course.description %>
            </textarea>
        </div>

        <div class="mb-3">
            <label for="price" class="form-label fw-semibold" style="color: #f8f9fa;">💰 Price (0 for Free)</label>
            <input type="number" class="form-control bg-dark text-light border-0" id="price" name="price"
                value="<%= course.price %>" required>
        </div>

        <div class="mb-3">
            <label for="videoLinks" class="form-label fw-semibold" style="color: #f8f9fa;">🎥 Video Solution Links</label>
            <input type="text" class="form-control bg-dark text-light border-0" id="videoLinks" name="videoLinks"
                value="<%= course.videoLinks ? course.videoLinks.join(', ') : '' %>">
        </div>

        <div class="mb-3">
            <label for="problems" class="form-label fw-semibold" style="color: #f8f9fa;">💡 Problem Numbers</label>
            <input type="text" class="form-control bg-dark text-light border-0" id="problems" name="problems"
                value="<%= (course.problems && Array.isArray(course.problems) && course.problems.length)
                    ? course.problems.map(p => p.number || '').join(', ')
                    : '' %>" required>
        </div>

        <div class="mb-3">
            <label for="categories" class="form-label fw-semibold" style="color: #f8f9fa;">📂 Categories</label>
            <input type="text" class="form-control bg-dark text-light border-0" id="categories" name="categories"
                value="<%= course.categories ? course.categories.join(', ') : '' %>">
        </div>

        <div class="mb-3">
            <label for="difficulty" class="form-label fw-semibold" style="color: #f8f9fa;">🔥 Difficulty</label>
            <select class="form-select bg-dark text-light border-0" id="difficulty" name="difficulty">
                <option value="Easy" <%= course.difficulty === 'Easy' ? 'selected' : '' %>>🟢 Beginner</option>
                <option value="Medium" <%= course.difficulty === 'Medium' ? 'selected' : '' %>>🟡 Intermediate</option>
                <option value="Hard" <%= course.difficulty === 'Hard' ? 'selected' : '' %>>🔴 Advanced</option>
            </select>
        </div>

        <button type="submit" class="btn btn-outline-primary w-100 fw-bold">✅ Update Course</button>
    </form>
</div>

<style>
    body {
        background: #121212 !important; /* Dark background */
        color: #f8f9fa !important; /* Light text */
    }
</style>
